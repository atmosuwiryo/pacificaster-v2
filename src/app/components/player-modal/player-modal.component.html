<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="cancel()" fill="clear">
        <ion-icon slot="icon-only" name="chevron-down-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true" class="ion-padding" (click)="onClick()">
  <div class="background">
    <img
      [src]="player.currentEpisode().image_url"
      [alt]="player.currentEpisode().title"
    />
    <div class="overlay"></div>
  </div>

  @if (showPauseOverlay) {
  <div class="pause-overlay">
    <ion-icon name="play-circle"></ion-icon>
  </div>
  }

  <div class="modal-content">
    <div class="title backdrop">
      <h2 class="">{{ player.currentEpisode().title }}</h2>
      <h3 class="">{{ player.currentEpisode().host_name }}</h3>
    </div>

    <app-player-waveform></app-player-waveform>

    <div class="times">
      <div class="top">
        <span class="backdrop">{{ player.currentTime | timeline }}</span>

        <span class="line"></span>

        <span class="backdrop">
          {{ player.totalDuration - player.currentTime | timeline }}</span
        >
      </div>

      <span class="backdrop"> {{ player.totalDuration | timeline }}</span>
    </div>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <div class="footer">
      <div class="tools">
        <ion-button shape="round" fill="solid">
          <ion-icon slot="icon-only" name="speedometer-outline"></ion-icon>
        </ion-button>
        <ion-button shape="round" fill="solid">
          <ion-icon slot="icon-only" name="share-social-outline"></ion-icon>
        </ion-button>
      </div>
    </div>

    <app-player-timeline></app-player-timeline>
  </ion-toolbar>
</ion-footer>
